{
  "manifest_version": "0.1",
  "name": "uml-mcp",
  "version": "1.2.0",
  "display_name": "UML Diagram Generator",
  "description": "Generate UML, Mermaid, D2, and other diagrams directly in Claude Desktop through the Model Context Protocol",
  "author": {
    "name": "Sergey Chistokhin",
    "url": "https://github.com/ChistokhinSV/uml-mcp"
  },
  "homepage": "https://github.com/ChistokhinSV/uml-mcp",
  "license": "MIT",
  "keywords": [
    "uml",
    "diagrams",
    "plantuml",
    "mermaid",
    "d2",
    "graphviz",
    "visualization",
    "architecture"
  ],
  "icon": "icon.png",
  "server": {
    "type": "python",
    "entry_point": "mcp_server.py",
    "mcp_config": {
      "command": "python",
      "args": [
        "${__dirname}/mcp_server.py",
        "run"
      ],
      "env": {
        "MCP_OUTPUT_DIR": "${user_config.output_dir}",
        "KROKI_SERVER": "${user_config.kroki_server}",
        "USE_LOCAL_KROKI": "${user_config.use_local_kroki}",
        "PLANTUML_JAR_PATH": "${user_config.plantuml_jar_path}",
        "USE_LOCAL_PLANTUML": "${user_config.use_local_plantuml}",
        "PLANTUML_SERVER": "${user_config.plantuml_server}",
        "JAVA_PATH": "${user_config.java_path}"
      }
    }
  },
  "user_config": {
    "output_dir": {
      "type": "string",
      "title": "Output Directory",
      "description": "Directory where generated diagrams will be saved",
      "default": "${HOME}/Documents/UML-MCP/diagrams",
      "required": true
    },
    "kroki_server": {
      "type": "string",
      "title": "Kroki Server URL",
      "description": "URL of the Kroki server for diagram rendering",
      "default": "https://kroki.io",
      "required": false
    },
    "use_local_kroki": {
      "type": "boolean",
      "title": "Use Local Kroki Server",
      "description": "Enable if you have a local Kroki server running",
      "default": false,
      "required": false
    },
    "use_local_plantuml": {
      "type": "boolean",
      "title": "Use Local PlantUML JAR",
      "description": "Use bundled plantuml.jar for local rendering (requires Java, recommended)",
      "default": true,
      "required": false
    },
    "plantuml_jar_path": {
      "type": "string",
      "title": "PlantUML JAR Path",
      "description": "Path to plantuml.jar file (auto-detects in extension directory if not set)",
      "default": "${__dirname}/bin/plantuml.jar",
      "required": false
    },
    "plantuml_server": {
      "type": "string",
      "title": "PlantUML Server URL",
      "description": "URL of the PlantUML server (used when not using local JAR)",
      "default": "http://plantuml-server:8080",
      "required": false
    },
    "java_path": {
      "type": "string",
      "title": "Java Executable Path",
      "description": "Path to Java executable (leave empty for auto-detection)",
      "default": "java",
      "required": false
    }
  }
}
